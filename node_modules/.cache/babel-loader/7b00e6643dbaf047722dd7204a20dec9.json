{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9121f74c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"workflow\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"命名空间: \", -1));\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"刷新\");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"创建工作流\");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"搜索\");\n\nconst _hoisted_6 = {\n  class: \"workflow-body-workflowname\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"详情\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"删除\");\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"创建Workflow-步骤1\", -1));\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"ClusterIP\");\n\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"NodePort\");\n\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"Ingress\");\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"下一步\");\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"创建Workflow-步骤2\", -1));\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  style: {\n    \"margin-bottom\": \"10px\"\n  }\n}, \"Deployment\", -1));\n\nconst _hoisted_17 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode(\"下一步\");\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"创建Workflow-步骤2\", -1));\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  style: {\n    \"margin-bottom\": \"10px\"\n  }\n}, \"Service\", -1));\n\nconst _hoisted_21 = {\n  key: 2,\n  style: {\n    \"margin-bottom\": \"10px\"\n  }\n};\n\nconst _hoisted_22 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_23 = /*#__PURE__*/_createTextVNode(\"立即创建\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  const _component_el_col = _resolveComponent(\"el-col\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_row = _resolveComponent(\"el-row\");\n\n  const _component_el_card = _resolveComponent(\"el-card\");\n\n  const _component_el_step = _resolveComponent(\"el-step\");\n\n  const _component_el_steps = _resolveComponent(\"el-steps\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_drawer = _resolveComponent(\"el-drawer\");\n\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n\n  const _component_WarningFilled = _resolveComponent(\"WarningFilled\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_popover = _resolveComponent(\"el-popover\");\n\n  const _component_el_switch = _resolveComponent(\"el-switch\");\n\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n\n  const _directive_loading = _resolveDirective(\"loading\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_row, null, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_card, {\n        class: \"workflow-head-card\",\n        shadow: \"never\",\n        \"body-style\": {\n          padding: '10px'\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_row, null, {\n          default: _withCtx(() => [_createVNode(_component_el_col, {\n            span: 6\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", null, [_hoisted_2, _createVNode(_component_el_select, {\n              modelValue: $data.namespaceValue,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.namespaceValue = $event),\n              filterable: \"\",\n              placeholder: \"请选择\"\n            }, {\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.namespaceList, (item, index) => {\n                return _openBlock(), _createBlock(_component_el_option, {\n                  key: index,\n                  label: item.metadata.name,\n                  value: item.metadata.name\n                }, null, 8, [\"label\", \"value\"]);\n              }), 128))]),\n              _: 1\n            }, 8, [\"modelValue\"])])]),\n            _: 1\n          }), _createVNode(_component_el_col, {\n            span: 2,\n            offset: 16\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_button, {\n              style: {\n                \"border-radius\": \"2px\"\n              },\n              icon: \"Refresh\",\n              plain: \"\",\n              onClick: _cache[1] || (_cache[1] = $event => $options.getWorkflows())\n            }, {\n              default: _withCtx(() => [_hoisted_3]),\n              _: 1\n            })])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })])]),\n      _: 1\n    }), _createVNode(_component_el_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_card, {\n        class: \"workflow-head-card\",\n        shadow: \"never\",\n        \"body-style\": {\n          padding: '30px 10px 20px 10px'\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_steps, {\n          active: $data.active,\n          \"align-center\": \"\",\n          \"finish-status\": \"success\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_step, {\n            title: \"步骤1\",\n            description: \"选择工作流类型, ClusterIP NodePort Workflow\"\n          }), _createVNode(_component_el_step, {\n            title: \"步骤2\",\n            description: \"填写Deployment Workflow Workflow表单\"\n          }), _createVNode(_component_el_step, {\n            title: \"步骤3\",\n            description: \"创建Deployment Workflow Workflow\"\n          })]),\n          _: 1\n        }, 8, [\"active\"])]),\n        _: 1\n      })])]),\n      _: 1\n    }), _createVNode(_component_el_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_card, {\n        class: \"workflow-head-card\",\n        shadow: \"never\",\n        \"body-style\": {\n          padding: '10px'\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_row, null, {\n          default: _withCtx(() => [_createVNode(_component_el_col, {\n            span: 3\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", null, [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n              style: {\n                \"border-radius\": \"2px\"\n              },\n              icon: \"Edit\",\n              type: \"primary\",\n              onClick: _cache[2] || (_cache[2] = $event => $data.createWorkflowDrawerIndex1 = true)\n            }, {\n              default: _withCtx(() => [_hoisted_4]),\n              _: 1\n            })), [[_directive_loading, $data.fullscreenLoading, void 0, {\n              fullscreen: true,\n              lock: true\n            }]])])]),\n            _: 1\n          }), _createVNode(_component_el_col, {\n            span: 6\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_input, {\n              class: \"workflow-head-search\",\n              clearable: \"\",\n              placeholder: \"请输入\",\n              modelValue: $data.searchInput,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.searchInput = $event)\n            }, null, 8, [\"modelValue\"]), _createVNode(_component_el_button, {\n              style: {\n                \"border-radius\": \"2px\"\n              },\n              icon: \"Search\",\n              type: \"primary\",\n              plain: \"\",\n              onClick: _cache[4] || (_cache[4] = $event => $options.getWorkflows())\n            }, {\n              default: _withCtx(() => [_hoisted_5]),\n              _: 1\n            })])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })])]),\n      _: 1\n    }), _createVNode(_component_el_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_card, {\n        class: \"workflow-body-card\",\n        shadow: \"never\",\n        \"body-style\": {\n          padding: '5px'\n        }\n      }, {\n        default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n          style: {\n            \"width\": \"100%\",\n            \"font-size\": \"12px\",\n            \"margin-bottom\": \"10px\"\n          },\n          data: $data.workflowList\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_table_column, {\n            width: \"20\"\n          }), _createVNode(_component_el_table_column, {\n            \"min-width\": \"50\",\n            align: \"left\",\n            label: \"ID\",\n            prop: \"id\"\n          }), _createVNode(_component_el_table_column, {\n            \"min-width\": \"100\",\n            label: \"Workflow名\"\n          }, {\n            default: _withCtx(scope => [_createElementVNode(\"a\", _hoisted_6, _toDisplayString(scope.row.name), 1)]),\n            _: 1\n          }), _createVNode(_component_el_table_column, {\n            label: \"类型\",\n            prop: \"type\"\n          }, {\n            default: _withCtx(scope => [_createVNode(_component_el_tag, {\n              type: \"warning\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.service_type), 1)]),\n              _: 2\n            }, 1024)]),\n            _: 1\n          }), _createVNode(_component_el_table_column, {\n            label: \"实例数\",\n            prop: \"replicas\"\n          }), _createVNode(_component_el_table_column, {\n            \"min-width\": \"100\",\n            label: \"deployment\",\n            prop: \"deployment\"\n          }), _createVNode(_component_el_table_column, {\n            \"min-width\": \"150\",\n            label: \"service\",\n            prop: \"service\"\n          }), _createVNode(_component_el_table_column, {\n            \"min-width\": \"150\",\n            label: \"ingress\",\n            prop: \"ingress\"\n          }), _createVNode(_component_el_table_column, {\n            align: \"center\",\n            \"min-width\": \"150\",\n            label: \"创建时间\"\n          }, {\n            default: _withCtx(scope => [_createVNode(_component_el_tag, {\n              type: \"info\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString($options.timeTransNot8(scope.row.created_at)), 1)]),\n              _: 2\n            }, 1024)]),\n            _: 1\n          }), _createVNode(_component_el_table_column, {\n            align: \"center\",\n            label: \"操作\",\n            width: \"200\"\n          }, {\n            default: _withCtx(scope => [_createVNode(_component_el_button, {\n              size: \"small\",\n              disabled: \"\",\n              style: {\n                \"border-radius\": \"2px\"\n              },\n              icon: \"Edit\",\n              type: \"primary\",\n              plain: \"\",\n              onClick: $event => _ctx.getWorkflowDetail(scope)\n            }, {\n              default: _withCtx(() => [_hoisted_7]),\n              _: 2\n            }, 1032, [\"onClick\"]), _createVNode(_component_el_button, {\n              size: \"small\",\n              style: {\n                \"border-radius\": \"2px\"\n              },\n              icon: \"Delete\",\n              type: \"danger\",\n              onClick: $event => $options.handleConfirm(scope, '删除', $options.delWorkflow)\n            }, {\n              default: _withCtx(() => [_hoisted_8]),\n              _: 2\n            }, 1032, [\"onClick\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"data\"])), [[_directive_loading, $data.appLoading]]), _createVNode(_component_el_pagination, {\n          class: \"workflow-body-pagination\",\n          background: \"\",\n          onSizeChange: $options.handleSizeChange,\n          onCurrentChange: $options.handleCurrentChange,\n          \"current-page\": $data.currentPage,\n          \"page-sizes\": $data.pagesizeList,\n          \"page-size\": $data.pagesize,\n          layout: \"total, sizes, prev, pager, next, jumper\",\n          total: $data.workflowTotal\n        }, null, 8, [\"onSizeChange\", \"onCurrentChange\", \"current-page\", \"page-sizes\", \"page-size\", \"total\"])]),\n        _: 1\n      })])]),\n      _: 1\n    })]),\n    _: 1\n  }), _createVNode(_component_el_drawer, {\n    modelValue: $data.createWorkflowDrawerIndex1,\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.createWorkflowDrawerIndex1 = $event),\n    direction: $data.direction,\n    \"before-close\": $options.handleClose\n  }, {\n    title: _withCtx(() => [_hoisted_9]),\n    default: _withCtx(() => [_createVNode(_component_el_row, {\n      type: \"flex\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 20\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          \"label-width\": \"80px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"类型\",\n            prop: \"name\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_radio, {\n              modelValue: $data.createWorkflow.type,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.createWorkflow.type = $event),\n              label: \"ClusterIP\"\n            }, {\n              default: _withCtx(() => [_hoisted_10]),\n              _: 1\n            }, 8, [\"modelValue\"]), _createVNode(_component_el_radio, {\n              modelValue: $data.createWorkflow.type,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.createWorkflow.type = $event),\n              label: \"NodePort\"\n            }, {\n              default: _withCtx(() => [_hoisted_11]),\n              _: 1\n            }, 8, [\"modelValue\"]), _createVNode(_component_el_radio, {\n              modelValue: $data.createWorkflow.type,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.createWorkflow.type = $event),\n              label: \"Ingress\"\n            }, {\n              default: _withCtx(() => [_hoisted_12]),\n              _: 1\n            }, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        })]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[8] || (_cache[8] = $event => $options.drawerCancel('createWorkflowDrawerIndex1'))\n    }, {\n      default: _withCtx(() => [_hoisted_13]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[9] || (_cache[9] = $event => $options.workflowIndex1Next())\n    }, {\n      default: _withCtx(() => [_hoisted_14]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"modelValue\", \"direction\", \"before-close\"]), _createVNode(_component_el_drawer, {\n    modelValue: $data.createWorkflowDrawerIndex2_1,\n    \"onUpdate:modelValue\": _cache[22] || (_cache[22] = $event => $data.createWorkflowDrawerIndex2_1 = $event),\n    direction: $data.direction,\n    \"before-close\": $options.handleClose\n  }, {\n    title: _withCtx(() => [_hoisted_15]),\n    default: _withCtx(() => [_createVNode(_component_el_row, {\n      type: \"flex\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 20\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          ref: \"createWorkflow\",\n          rules: $data.createWorkflowRules,\n          model: $data.createWorkflow,\n          \"label-width\": \"80px\"\n        }, {\n          default: _withCtx(() => [_hoisted_16, _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"名称\",\n            prop: \"name\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.name,\n              \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.createWorkflow.name = $event)\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"命名空间\",\n            prop: \"namespace\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_select, {\n              modelValue: $data.createWorkflow.namespace,\n              \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.createWorkflow.namespace = $event),\n              filterable: \"\",\n              placeholder: \"请选择\"\n            }, {\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.namespaceList, (item, index) => {\n                return _openBlock(), _createBlock(_component_el_option, {\n                  key: index,\n                  label: item.metadata.name,\n                  value: item.metadata.name\n                }, null, 8, [\"label\", \"value\"]);\n              }), 128))]),\n              _: 1\n            }, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"副本数\",\n            prop: \"replicas\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input_number, {\n              modelValue: $data.createWorkflow.replicas,\n              \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.createWorkflow.replicas = $event),\n              min: 1,\n              max: 10\n            }, null, 8, [\"modelValue\"]), _createVNode(_component_el_popover, {\n              placement: \"top\",\n              width: 100,\n              trigger: \"hover\",\n              content: \"申请副本数上限为10个\"\n            }, {\n              reference: _withCtx(() => [_createVNode(_component_el_icon, {\n                style: {\n                  \"width\": \"2em\",\n                  \"font-size\": \"18px\",\n                  \"color\": \"#4795EE\"\n                }\n              }, {\n                default: _withCtx(() => [_createVNode(_component_WarningFilled)]),\n                _: 1\n              })]),\n              _: 1\n            })]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"镜像\",\n            prop: \"image\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.image,\n              \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.createWorkflow.image = $event)\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"标签\",\n            prop: \"label_str\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.label_str,\n              \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.createWorkflow.label_str = $event),\n              placeholder: \"示例: project=ms,app=gateway\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"资源配额\",\n            prop: \"resource\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_select, {\n              modelValue: $data.createWorkflow.resource,\n              \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.createWorkflow.resource = $event),\n              placeholder: \"请选择\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_option, {\n                value: \"0.5/1\",\n                label: \"0.5C1G\"\n              }), _createVNode(_component_el_option, {\n                value: \"1/2\",\n                label: \"1C2G\"\n              }), _createVNode(_component_el_option, {\n                value: \"2/4\",\n                label: \"2C4G\"\n              }), _createVNode(_component_el_option, {\n                value: \"4/8\",\n                label: \"4C8G\"\n              })]),\n              _: 1\n            }, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"容器端口\",\n            prop: \"container_port\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.container_port,\n              \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $data.createWorkflow.container_port = $event),\n              placeholder: \"示例: 80\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"健康检查\",\n            prop: \"health\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_switch, {\n              modelValue: $data.createWorkflow.health_check,\n              \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => $data.createWorkflow.health_check = $event)\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            class: \"workflow-create-form\",\n            label: \"检查路径\",\n            prop: \"healthPath\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.health_path,\n              \"onUpdate:modelValue\": _cache[19] || (_cache[19] = $event => $data.createWorkflow.health_path = $event),\n              placeholder: \"示例: /health\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"rules\", \"model\"])]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[20] || (_cache[20] = $event => $options.drawerCancel('createWorkflowDrawerIndex2_1'))\n    }, {\n      default: _withCtx(() => [_hoisted_17]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[21] || (_cache[21] = $event => $options.submitForm('createWorkflow', $options.workflowIndex2_1Next))\n    }, {\n      default: _withCtx(() => [_hoisted_18]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"modelValue\", \"direction\", \"before-close\"]), _createVNode(_component_el_drawer, {\n    modelValue: $data.createWorkflowDrawerIndex2_2,\n    \"onUpdate:modelValue\": _cache[30] || (_cache[30] = $event => $data.createWorkflowDrawerIndex2_2 = $event),\n    direction: $data.direction,\n    \"before-close\": $options.handleClose\n  }, {\n    title: _withCtx(() => [_hoisted_19]),\n    default: _withCtx(() => [_createVNode(_component_el_row, {\n      type: \"flex\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 20\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          ref: \"createWorkflow\",\n          rules: $data.createWorkflowRules,\n          model: $data.createWorkflow,\n          \"label-width\": \"80px\"\n        }, {\n          default: _withCtx(() => [_hoisted_20, _createVNode(_component_el_form_item, {\n            class: \"service-create-form\",\n            label: \"Service端口\",\n            prop: \"port\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.port,\n              \"onUpdate:modelValue\": _cache[23] || (_cache[23] = $event => $data.createWorkflow.port = $event),\n              placeholder: \"示例: 80\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), $data.createWorkflow.type == 'NodePort' ? (_openBlock(), _createBlock(_component_el_form_item, {\n            key: 0,\n            class: \"service-create-form\",\n            label: \"NodePort\",\n            prop: \"node_port\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.node_port,\n              \"onUpdate:modelValue\": _cache[24] || (_cache[24] = $event => $data.createWorkflow.node_port = $event),\n              placeholder: \"示例: 30001\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true), $data.createWorkflow.type == 'Ingress' ? (_openBlock(), _createBlock(_component_el_divider, {\n            key: 1\n          })) : _createCommentVNode(\"\", true), $data.createWorkflow.type == 'Ingress' ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_21, \"Ingress\")) : _createCommentVNode(\"\", true), $data.createWorkflow.type == 'Ingress' ? (_openBlock(), _createBlock(_component_el_form_item, {\n            key: 3,\n            class: \"deploy-create-form\",\n            label: \"域名\",\n            prop: \"host\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.host,\n              \"onUpdate:modelValue\": _cache[25] || (_cache[25] = $event => $data.createWorkflow.host = $event),\n              placeholder: \"示例: www.example.com\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true), $data.createWorkflow.type == 'Ingress' ? (_openBlock(), _createBlock(_component_el_form_item, {\n            key: 4,\n            class: \"ingress-create-form\",\n            label: \"Path\",\n            prop: \"path\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.createWorkflow.path,\n              \"onUpdate:modelValue\": _cache[26] || (_cache[26] = $event => $data.createWorkflow.path = $event),\n              placeholder: \"示例: /abc\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true), $data.createWorkflow.type == 'Ingress' ? (_openBlock(), _createBlock(_component_el_form_item, {\n            key: 5,\n            class: \"deploy-create-form\",\n            label: \"匹配类型\",\n            prop: \"path_type\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_select, {\n              modelValue: $data.createWorkflow.path_type,\n              \"onUpdate:modelValue\": _cache[27] || (_cache[27] = $event => $data.createWorkflow.path_type = $event),\n              placeholder: \"请选择\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_option, {\n                value: \"Prefix\",\n                label: \"Prefix\"\n              }), _createVNode(_component_el_option, {\n                value: \"Exact\",\n                label: \"Exact\"\n              }), _createVNode(_component_el_option, {\n                value: \"ImplementationSpecific\",\n                label: \"ImplementationSpecific\"\n              })]),\n              _: 1\n            }, 8, [\"modelValue\"])]),\n            _: 1\n          })) : _createCommentVNode(\"\", true)]),\n          _: 1\n        }, 8, [\"rules\", \"model\"])]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[28] || (_cache[28] = $event => $options.drawerCancel('createWorkflowDrawerIndex2_2'))\n    }, {\n      default: _withCtx(() => [_hoisted_22]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[29] || (_cache[29] = $event => $options.submitForm('createWorkflow', $options.createWorkflowFunc))\n    }, {\n      default: _withCtx(() => [_hoisted_23]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"modelValue\", \"direction\", \"before-close\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","_createElementBlock","_createVNode","_component_el_row","_component_el_col","span","_component_el_card","shadow","padding","_hoisted_2","_component_el_select","$data","$event","filterable","placeholder","_Fragment","_renderList","item","index","_createBlock","_component_el_option","key","label","metadata","name","value","offset","_component_el_button","icon","plain","onClick","$options","_component_el_steps","active","_component_el_step","title","description","type","_component_el_input","clearable","_component_el_table","data","_component_el_table_column","width","align","prop","scope","_toDisplayString","row","_component_el_tag","service_type","created_at","size","disabled","_ctx","_component_el_pagination","background","onSizeChange","onCurrentChange","layout","total","_component_el_drawer","direction","_hoisted_9","default","justify","_component_el_form","_component_el_form_item","_component_el_radio","footer","_hoisted_15","ref","rules","model","_hoisted_16","namespace","_component_el_input_number","replicas","min","max","_component_el_popover","placement","trigger","content","reference","_component_el_icon","_component_WarningFilled","image","label_str","resource","container_port","_component_el_switch","health_check","health_path","_hoisted_19","_hoisted_20","port","node_port","_component_el_divider","host","path","path_type"],"sourceRoot":"","sources":["/Users/allen/kubemanage-web/src/views/workflow/Workflow.vue"],"sourcesContent":["<template>\n    <div class=\"workflow\">\n        <el-row>\n            <!-- header1 -->\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"workflow-head-card\" shadow=\"never\" :body-style=\"{padding:'10px'}\">\n                        <el-row>\n                            <el-col :span=\"6\">\n                                <div>\n                                    <span>命名空间: </span>\n                                    <el-select v-model=\"namespaceValue\" filterable placeholder=\"请选择\">\n                                        <el-option\n                                        v-for=\"(item, index) in namespaceList\"\n                                        :key=\"index\"\n                                        :label=\"item.metadata.name\"\n                                        :value=\"item.metadata.name\">\n                                        </el-option>\n                                    </el-select>\n                                </div>\n                            </el-col>\n                            <el-col :span=\"2\" :offset=\"16\">\n                                <div>\n                                    <el-button style=\"border-radius:2px;\" icon=\"Refresh\" plain @click=\"getWorkflows()\">刷新</el-button>\n                                </div>\n                            </el-col>\n                        </el-row>\n                    </el-card>\n                </div>\n            </el-col>\n            <!-- header2 步骤条 -->\n            <el-col :span=\"24\">\n                <div>\n                    <!-- 步骤条展示，active属性控制到了哪一步 -->\n                    <el-card class=\"workflow-head-card\" shadow=\"never\" :body-style=\"{padding:'30px 10px 20px 10px'}\">\n                        <el-steps :active=\"active\" align-center finish-status=\"success\">\n                            <el-step title=\"步骤1\" description=\"选择工作流类型, ClusterIP NodePort Workflow\"></el-step>\n                            <el-step title=\"步骤2\" description=\"填写Deployment Workflow Workflow表单\"></el-step>\n                            <el-step title=\"步骤3\" description=\"创建Deployment Workflow Workflow\"></el-step>\n                        </el-steps>\n                    </el-card>\n                </div>\n            </el-col>\n            <!-- header3 -->\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"workflow-head-card\" shadow=\"never\" :body-style=\"{padding:'10px'}\">\n                        <el-row>\n                            <el-col :span=\"3\">\n                                <div>\n                                    <!-- 创建工作流 -->\n                                    <!-- createWorkflowDrawerIndex1-》createWorkflowDrawerIndex2-1-》createWorkflowDrawerIndex2-2 -->\n                                    <el-button style=\"border-radius:2px;\" icon=\"Edit\" type=\"primary\" @click=\"createWorkflowDrawerIndex1 = true\" v-loading.fullscreen.lock=\"fullscreenLoading\">创建工作流</el-button>\n                                </div>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <div>\n                                    <el-input class=\"workflow-head-search\" clearable placeholder=\"请输入\" v-model=\"searchInput\"></el-input>\n                                    <el-button style=\"border-radius:2px;\" icon=\"Search\" type=\"primary\" plain @click=\"getWorkflows()\">搜索</el-button>\n                                </div>\n                            </el-col>\n                        </el-row>\n                    </el-card>\n                </div>\n            </el-col>\n            <!-- 数据表格 -->\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"workflow-body-card\" shadow=\"never\" :body-style=\"{padding:'5px'}\">\n                        <el-table\n                        style=\"width:100%;font-size:12px;margin-bottom:10px;\"\n                        :data=\"workflowList\"\n                        v-loading=\"appLoading\">\n                            <el-table-column width=\"20\"></el-table-column>\n                            <el-table-column min-width=\"50\" align=left label=\"ID\" prop=\"id\"></el-table-column>\n                            <el-table-column min-width=\"100\" label=\"Workflow名\">\n                                <template v-slot=\"scope\">\n                                    <a class=\"workflow-body-workflowname\">{{ scope.row.name }}</a>\n                                </template>\n                            </el-table-column>\n                            <el-table-column label=\"类型\" prop=\"type\">\n                                <template v-slot=\"scope\">\n                                    <el-tag type=\"warning\">{{ scope.row.service_type }}</el-tag>\n                                </template>\n                            </el-table-column>\n                            <el-table-column label=\"实例数\" prop=\"replicas\"></el-table-column>\n                            <el-table-column min-width=\"100\" label=\"deployment\" prop=\"deployment\"></el-table-column>\n                            <el-table-column min-width=\"150\" label=\"service\" prop=\"service\"></el-table-column>\n                            <el-table-column min-width=\"150\" label=\"ingress\" prop=\"ingress\"></el-table-column>\n                            <el-table-column align=center min-width=\"150\" label=\"创建时间\">\n                                <template v-slot=\"scope\">\n                                    <el-tag type=\"info\">{{ timeTransNot8(scope.row.created_at) }} </el-tag>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center label=\"操作\" width=\"200\">\n                                <template v-slot=\"scope\">\n                                    <el-button size=\"small\" disabled style=\"border-radius:2px;\" icon=\"Edit\" type=\"primary\" plain @click=\"getWorkflowDetail(scope)\">详情</el-button>\n                                    <el-button size=\"small\" style=\"border-radius:2px;\" icon=\"Delete\" type=\"danger\" @click=\"handleConfirm(scope, '删除', delWorkflow)\">删除</el-button>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                        <el-pagination\n                        class=\"workflow-body-pagination\"\n                        background\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                        :current-page=\"currentPage\"\n                        :page-sizes=\"pagesizeList\"\n                        :page-size=\"pagesize\"\n                        layout=\"total, sizes, prev, pager, next, jumper\"\n                        :total=\"workflowTotal\">\n                        </el-pagination>\n                    </el-card>\n                </div>\n            </el-col>\n        </el-row>\n    <!-- 抽屉弹框1 -->\n    <el-drawer\n        v-model=\"createWorkflowDrawerIndex1\"\n        :direction=\"direction\"\n        :before-close=\"handleClose\">\n        <template #title>\n            <h4>创建Workflow-步骤1</h4>\n        </template>\n        <template #default>\n            <el-row type=\"flex\" justify=\"center\">\n                <el-col :span=\"20\">\n                    <el-form label-width=\"80px\">\n                        <el-form-item class=\"workflow-create-form\" label=\"类型\" prop=\"name\">\n                            <el-radio v-model=\"createWorkflow.type\" label=\"ClusterIP\">ClusterIP</el-radio>\n                            <el-radio v-model=\"createWorkflow.type\" label=\"NodePort\">NodePort</el-radio>\n                            <el-radio v-model=\"createWorkflow.type\" label=\"Ingress\">Ingress</el-radio>\n                        </el-form-item>\n                    </el-form>\n                </el-col>\n            </el-row>\n        </template>\n        <template #footer>\n            <el-button @click=\"drawerCancel('createWorkflowDrawerIndex1')\">取消</el-button>\n            <el-button type=\"primary\" @click=\"workflowIndex1Next()\">下一步</el-button>\n        </template>\n    </el-drawer>\n    <!-- 抽屉弹框2 -->\n    <el-drawer\n        v-model=\"createWorkflowDrawerIndex2_1\"\n        :direction=\"direction\"\n        :before-close=\"handleClose\">\n        <template #title>\n            <h4>创建Workflow-步骤2</h4>\n        </template>\n        <template #default>\n            <el-row type=\"flex\" justify=\"center\">\n                <el-col :span=\"20\">\n                    <el-form ref=\"createWorkflow\" :rules=\"createWorkflowRules\" :model=\"createWorkflow\" label-width=\"80px\">\n                        <h4 style=\"margin-bottom:10px\">Deployment</h4>\n                        <el-form-item class=\"workflow-create-form\" label=\"名称\" prop=\"name\">\n                            <el-input v-model=\"createWorkflow.name\"></el-input>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"命名空间\" prop=\"namespace\">\n                            <el-select v-model=\"createWorkflow.namespace\" filterable placeholder=\"请选择\">\n                                <el-option\n                                v-for=\"(item, index) in namespaceList\"\n                                :key=\"index\"\n                                :label=\"item.metadata.name\"\n                                :value=\"item.metadata.name\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"副本数\" prop=\"replicas\">\n                            <el-input-number v-model=\"createWorkflow.replicas\" :min=\"1\" :max=\"10\"></el-input-number>\n                                <el-popover\n                                    placement=\"top\"\n                                    :width=\"100\"\n                                    trigger=\"hover\"\n                                    content=\"申请副本数上限为10个\">\n                                    <template #reference>\n                                        <el-icon style=\"width:2em;font-size:18px;color:#4795EE\"><WarningFilled/></el-icon>\n                                    </template>\n                                </el-popover>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"镜像\" prop=\"image\">\n                            <el-input v-model=\"createWorkflow.image\"></el-input>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"标签\" prop=\"label_str\">\n                            <el-input v-model=\"createWorkflow.label_str\" placeholder=\"示例: project=ms,app=gateway\"></el-input>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"资源配额\" prop=\"resource\">\n                            <el-select v-model=\"createWorkflow.resource\" placeholder=\"请选择\">\n                                <el-option value=\"0.5/1\" label=\"0.5C1G\"></el-option>\n                                <el-option value=\"1/2\" label=\"1C2G\"></el-option>\n                                <el-option value=\"2/4\" label=\"2C4G\"></el-option>\n                                <el-option value=\"4/8\" label=\"4C8G\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"容器端口\" prop=\"container_port\">\n                            <el-input v-model=\"createWorkflow.container_port\" placeholder=\"示例: 80\"></el-input>\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"健康检查\" prop=\"health\">\n                            <el-switch v-model=\"createWorkflow.health_check\" />\n                        </el-form-item>\n                        <el-form-item class=\"workflow-create-form\" label=\"检查路径\" prop=\"healthPath\">\n                            <el-input v-model=\"createWorkflow.health_path\" placeholder=\"示例: /health\"></el-input>\n                        </el-form-item>\n                    </el-form>\n                </el-col>\n            </el-row>\n        </template>\n        <template #footer>\n            <el-button @click=\"drawerCancel('createWorkflowDrawerIndex2_1')\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitForm('createWorkflow', workflowIndex2_1Next)\">下一步</el-button>\n        </template>\n    </el-drawer>\n    <!-- 抽屉弹框3 -->\n    <el-drawer\n        v-model=\"createWorkflowDrawerIndex2_2\"\n        :direction=\"direction\"\n        :before-close=\"handleClose\">\n        <template #title>\n            <h4>创建Workflow-步骤2</h4>\n        </template>\n        <template #default>\n            <el-row type=\"flex\" justify=\"center\">\n                <el-col :span=\"20\">\n                    <el-form ref=\"createWorkflow\" :rules=\"createWorkflowRules\" :model=\"createWorkflow\" label-width=\"80px\">\n                        <h4 style=\"margin-bottom:10px\">Service</h4>\n                        <el-form-item class=\"service-create-form\" label=\"Service端口\" prop=\"port\">\n                            <el-input v-model=\"createWorkflow.port\" placeholder=\"示例: 80\"></el-input>\n                        </el-form-item>\n                        <el-form-item v-if=\"createWorkflow.type == 'NodePort'\" class=\"service-create-form\" label=\"NodePort\" prop=\"node_port\">\n                            <el-input v-model=\"createWorkflow.node_port\" placeholder=\"示例: 30001\"></el-input>\n                        </el-form-item>\n                        <el-divider v-if=\"createWorkflow.type == 'Ingress'\"></el-divider>\n                        <h4 v-if=\"createWorkflow.type == 'Ingress'\" style=\"margin-bottom:10px\">Ingress</h4>\n                        <el-form-item v-if=\"createWorkflow.type == 'Ingress'\" class=\"deploy-create-form\" label=\"域名\" prop=\"host\">\n                            <el-input v-model=\"createWorkflow.host\" placeholder=\"示例: www.example.com\"></el-input>\n                        </el-form-item>\n                        <el-form-item v-if=\"createWorkflow.type == 'Ingress'\" class=\"ingress-create-form\" label=\"Path\" prop=\"path\">\n                            <el-input v-model=\"createWorkflow.path\" placeholder=\"示例: /abc\"></el-input>\n                        </el-form-item>\n                        <el-form-item v-if=\"createWorkflow.type == 'Ingress'\" class=\"deploy-create-form\" label=\"匹配类型\" prop=\"path_type\">\n                            <el-select v-model=\"createWorkflow.path_type\" placeholder=\"请选择\">\n                                <el-option value=\"Prefix\" label=\"Prefix\"></el-option>\n                                <el-option value=\"Exact\" label=\"Exact\"></el-option>\n                                <el-option value=\"ImplementationSpecific\" label=\"ImplementationSpecific\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                    </el-form>\n                </el-col>\n            </el-row>\n        </template>\n        <template #footer>\n            <el-button @click=\"drawerCancel('createWorkflowDrawerIndex2_2')\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitForm('createWorkflow', createWorkflowFunc)\">立即创建</el-button>\n        </template>\n    </el-drawer>\n    </div>\n</template>\n\n<script>\nimport {getNamespecelist} from \"@/api/namespace\";\nimport {CreateWorkflow, DeleteWorkflow, GetWorkflow} from \"@/api/workflow\";\nexport default {\n    data() {\n        return {\n            //工作流以及3个抽屉弹出框\n            active: 0,\n            createWorkflowDrawerIndex1: false,\n            createWorkflowDrawerIndex2_1: false,\n            createWorkflowDrawerIndex2_2: false,\n            //分页\n            currentPage: 1,\n            pagesize: 10,\n            pagesizeList: [10, 20, 30],\n            //搜索及命名空间\n            searchInput: '',\n            namespaceValue: 'default',\n            namespaceList: [],\n            //列表\n            appLoading: false,\n            workflowList: [],\n            workflowTotal: 0,\n            getWorkflowsData: {\n                params: {\n                    name: '',\n                    namespace: '',\n                    page: '',\n                    limit: '',\n                }\n            },\n            //创建\n            fullscreenLoading: false,\n            direction: 'rtl',\n            createWorkflowDrawer: false,\n            createWorkflow: {\n                name: '',\n                namespace: '',\n               deployment: '',\n                replicas: 1,\n                image: '',\n                resource: '',\n                health_check: false,\n                health_path: '',\n                label_str: '',\n                label: {},\n                container_port: '',\n                type: '',\n                port: '',\n                node_port: '',\n                host: '',\n                path: '',\n                path_type: ''\n            },\n            createWorkflowData: {\n                params: {}\n            },\n            createWorkflowRules: {\n                name: [{\n                    required: true,\n                    message: '请填写名称',\n                    trigger: 'change'\n                }],\n                image: [{\n                    required: true,\n                    message: '请填写镜像',\n                    trigger: 'change'\n                }],\n                namespace: [{\n                    required: true,\n                    message: '请选择命名空间',\n                    trigger: 'change'\n                }],\n                resource: [{\n                    required: true,\n                    message: '请选择配额',\n                    trigger: 'change'\n                }],\n                label_str: [{\n                    required: true,\n                    message: '请填写标签',\n                    trigger: 'change'\n                }],\n                container_port: [{\n                    required: true,\n                    message: '请填写容器端口',\n                    trigger: 'change'\n                }],\n                type: [{\n                    required: true,\n                    message: '请填写工作流类型',\n                    trigger: 'change'\n                }],\n                port: [{\n                    required: true,\n                    message: '请填写Workflow端口',\n                    trigger: 'change'\n                }],\n                node_port: [{\n                    required: true,\n                    message: '请填写NodePort',\n                    trigger: 'change'\n                }],\n                host: [{\n                    required: true,\n                    message: '请填写域名',\n                    trigger: 'change'\n                }],\n                path: [{\n                    required: true,\n                    message: '请填写路径',\n                    trigger: 'change'\n                }],\n                path_type: [{\n                    required: true,\n                    message: '你选择匹配类型',\n                    trigger: 'change'\n                }],\n            },\n            //删除\n            delWorkflowData: {\n                params: {\n                    id: ''\n                }\n            },\n        }\n    },\n    methods: {\n        handleSizeChange(size) {\n            this.pagesize = size;\n            this.getWorkflows()\n        },\n        handleCurrentChange(currentPage) {\n            this.currentPage = currentPage;\n            this.getWorkflows()\n        },\n        handleClose(done) {\n            this.$confirm('确认关闭？')\n            .then(() => {\n                done();\n            })\n            .catch(() => {});\n            this.active = 0\n        },\n        //关闭抽屉\n        drawerCancel(drawerName) {\n            switch (drawerName) {\n                case 'createWorkflowDrawerIndex1':\n                    this.createWorkflowDrawerIndex1 = false\n                    break\n                case 'createWorkflowDrawerIndex2_1':\n                    this.createWorkflowDrawerIndex2_1 = false\n                    break\n                case 'createWorkflowDrawerIndex2_2':\n                    this.createWorkflowDrawerIndex2_2 = false\n            }\n            this.active = 0\n        },\n        ellipsis(value) {\n            return value.length>15?value.substring(0,15)+'...':value\n        },\n        timeTrans(timestamp) {\n            let date = new Date(new Date(timestamp).getTime() + 8 * 3600 * 1000)\n            date = date.toJSON();\n            date = date.substring(0, 19).replace('T', ' ')\n            return date \n        },\n        timeTransNot8(timestamp) {\n            let date = new Date(new Date(timestamp).getTime() + 8 * 3600 * 1000)\n            date = date.toJSON();\n            date = date.substring(0, 19).replace('T', ' ')\n            return date \n        },\n        getNamespaces() {\n          getNamespecelist().then(res => {\n                this.namespaceList = res.data.items\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        getWorkflows() {\n            this.appLoading = true\n            this.getWorkflowsData.params.name = this.searchInput\n            this.getWorkflowsData.params.namespace = this.namespaceValue\n            this.getWorkflowsData.params.page = this.currentPage\n            this.getWorkflowsData.params.limit = this.pagesize\n          GetWorkflow(this.getWorkflowsData.params).then(res => {\n                this.workflowList = res.data.items\n                this.workflowTotal = res.data.total\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n            this.appLoading = false\n        },\n        delWorkflow(e) {\n            this.delWorkflowData.params.id = e.row.id\n          DeleteWorkflow(this.delWorkflowData.params)\n            .then(res => {\n                this.getWorkflows()\n                this.$message.success({\n                message: res.msg\n                })\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        handleConfirm(obj, operateName, fn) {\n            this.confirmContent = '确认继续 ' + operateName + ' 操作吗？'\n            this.$confirm(this.confirmContent,'提示',{\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n            })\n            .then(() => {\n                fn(obj)\n            })\n            .catch(() => {\n                this.$message.info({\n                    message: '已取消操作'\n                })          \n            })\n        },\n        //真正的创建workflow的方法\n        createWorkflowFunc() {\n            //验证标签,如果不符合a=b,c=d的格式，咱返回\n            let reg = new RegExp(\"(^[A-Za-z]+=[A-Za-z0-9]+).*\")\n            if (!reg.test(this.createWorkflow.label_str)) {\n                this.$message.warning({\n                    message: \"标签填写异常，请确认后重新填写\"\n                })\n                return\n            }\n            //加载动画开启\n            this.fullscreenLoading = true\n            //处理标签,将标签转成map   a=b  ->  map[a]=b\n            let label = new Map()\n            let cpu, memory\n            let a = (this.createWorkflow.label_str).split(\",\")\n            a.forEach(item => {\n                let b = item.split(\"=\")\n                label[b[0]] = b[1]\n            })\n            //处理配额\n            let resourceList = this.createWorkflow.resource.split(\"/\")\n            cpu = resourceList[0]\n            memory = resourceList[1] + \"Gi\"\n            //处理其他参数\n            this.createWorkflowData.params = this.createWorkflow\n            this.createWorkflowData.params.label = label\n            this.createWorkflowData.params.cpu = cpu\n            this.createWorkflowData.params.memory = memory\n            this.createWorkflowData.params.container_port = parseInt(this.createWorkflow.container_port)\n            this.createWorkflowData.params.port = parseInt(this.createWorkflow.port)\n            this.createWorkflowData.params.node_port = parseInt(this.createWorkflow.node_port)\n            this.createWorkflowData.params.deployment = this.createWorkflow.name\n            //处理Hosts及httppath，跟后端处理相同，将数据转成map[host]=httpPaths的格式\n            if (this.createWorkflow.type == 'Ingress') {\n                let hosts = new Map()\n                let httpPaths = []\n                let httpPath = {\n                    path: this.createWorkflow.path,\n                    path_type: this.createWorkflow.path_type,\n                    service_name: this.createWorkflow.name,\n                    service_port: parseInt(this.createWorkflow.port)\n                }\n                httpPaths.push(httpPath)\n                hosts[this.createWorkflow.host] = httpPaths\n                this.createWorkflowData.params.hosts = hosts\n            }\n            //发送请求\n          CreateWorkflow(this.createWorkflowData.params).then(res => {\n                this.$message.success({\n                message: res.msg\n                })\n                this.getWorkflows()\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n            this.resetForm('createWorkflow')\n            this.createWorkflowDrawerIndex2_2 = false\n            this.active = 3\n            this.fullscreenLoading = false\n        },\n        resetForm(formName) {\n            this.$refs[formName].resetFields()\n        },\n        //抽屉2_2提交\n        submitForm(formName, fn) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    fn()\n                } else {\n                    return false;\n                }\n            })\n        },\n        //抽屉1的提交\n        workflowIndex1Next() {\n            //判断是否选择了type\n            if (!this.createWorkflow.type) {\n                this.$message.warning({\n                    message: \"请选择工作流类型\"\n                })\n                return\n            }\n            //关闭抽屉1\n            this.createWorkflowDrawerIndex1 = false\n            //打开抽屉2_1\n            this.createWorkflowDrawerIndex2_1 = true\n            //步骤条完成第一步\n            this.active = 1\n        },\n        //抽屉2的提交\n        workflowIndex2_1Next() {\n            //关闭抽屉2_1\n            this.createWorkflowDrawerIndex2_1 = false\n            //打开抽屉2_2\n            this.createWorkflowDrawerIndex2_2 = true\n        }\n    },\n    watch: {\n        namespaceValue: {\n            handler() {\n                localStorage.setItem('namespace', this.namespaceValue)\n                this.currentPage = 1\n                this.getWorkflows()\n            }\n        },\n    },\n    beforeMount() {\n        if (localStorage.getItem('namespace') !== undefined && localStorage.getItem('namespace') !== null) {\n            this.namespaceValue = localStorage.getItem('namespace')\n        }\n        this.getNamespaces()\n        this.getWorkflows()\n    }\n}\n</script>\n\n\n<style scoped>\n    .workflow-head-card,.workflow-body-card {\n        border-radius: 1px;\n        margin-bottom: 5px;\n    }\n    .workflow-head-search {\n        width:160px;\n        margin-right:10px; \n    }\n    .workflow-body-workflowname {\n        color: #4795EE;\n    }\n    .workflow-body-workflowname:hover {\n        color: rgb(84, 138, 238);\n        cursor: pointer;\n        font-weight: bold;\n    }\n    /deep/ .el-drawer__header {\n        margin-bottom: 0px !important;\n    }\n    /deep/ .el-drawer__body {\n        padding: 0px 0px 0px 0px;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}