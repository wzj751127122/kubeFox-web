{"ast":null,"code":"import { useRouter } from 'vue-router';\nexport default {\n  data() {\n    return {\n      auator: require('@/assets/avator/avator.png'),\n      logo: require('@/assets/k8s/logo.png'),\n      isCollapse: false,\n      // 导航栏宽度\n      asideWidth: '220px',\n      routers: []\n    };\n  },\n\n  computed: {\n    username() {\n      let username = localStorage.getItem(\"username\");\n      return username ? username : 'unknown';\n    }\n\n  },\n  methods: {\n    onCollapse() {\n      if (this.isCollapse) {\n        this.asideWidth = '220px';\n        this.isCollapse = false;\n      } else {\n        this.asideWidth = '64px';\n        this.isCollapse = true;\n      }\n    },\n\n    navigateToRoute(routePath) {\n      // 使用 this.$router.push() 导航到传递的路由路径\n      // if (routePath == '/home') {\n      //   window.location.reload();\n      //   this.$router.push('/home')\n      // }\n      this.$router.push(routePath);\n    },\n\n    navigateToRouteChild(routePath) {\n      // 使用 this.$router.push() 导航到传递的路由路径\n      this.$router.push(routePath);\n    },\n\n    logout() {\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"token\");\n      this.$router.push('/login');\n    },\n\n    changepwd() {\n      alert('changepwd');\n    }\n\n  },\n\n  beforeMount() {\n    this.routers = useRouter().options.routes;\n    console.log(this.routers);\n  }\n\n};","map":{"version":3,"mappings":"AAqGA,SAASA,SAAT,QAA0B,YAA1B;AACA,eAAe;EACbC,IAAG,GAAK;IACN,OAAO;MACLC,MAAM,EAAEC,OAAO,CAAC,4BAAD,CADV;MAELC,IAAI,EAAED,OAAO,CAAC,uBAAD,CAFR;MAGLE,UAAU,EAAE,KAHP;MAIL;MACAC,UAAU,EAAE,OALP;MAMLC,OAAO,EAAE;IANJ,CAAP;EAQD,CAVY;;EAWbC,QAAQ,EAAE;IACRC,QAAO,GAAK;MACV,IAAIA,QAAO,GAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf;MACA,OAAOF,QAAO,GAAIA,QAAJ,GAAe,SAA7B;IACF;;EAJQ,CAXG;EAiBbG,OAAO,EAAE;IACPC,UAAS,GAAK;MACZ,IAAI,KAAKR,UAAT,EAAqB;QACnB,KAAKC,UAAL,GAAkB,OAAlB;QACA,KAAKD,UAAL,GAAkB,KAAlB;MACF,CAHA,MAGO;QACL,KAAKC,UAAL,GAAkB,MAAlB;QACA,KAAKD,UAAL,GAAkB,IAAlB;MAEF;IACD,CAVM;;IAWPS,eAAc,CAAGC,SAAH,EAAc;MAC1B;MACA;MACA;MACA;MACA;MACA,KAAKC,OAAL,CAAaC,IAAb,CAAkBF,SAAlB;IACD,CAlBM;;IAmBPG,oBAAmB,CAAGH,SAAH,EAAc;MAC/B;MACA,KAAKC,OAAL,CAAaC,IAAb,CAAkBF,SAAlB;IACD,CAtBM;;IAuBPI,MAAK,GAAK;MACRT,YAAY,CAACU,UAAb,CAAwB,UAAxB;MACAV,YAAY,CAACU,UAAb,CAAwB,OAAxB;MACA,KAAKJ,OAAL,CAAaC,IAAb,CAAkB,QAAlB;IACD,CA3BM;;IA4BPI,SAAQ,GAAK;MACXC,KAAK,CAAC,WAAD,CAAL;IACF;;EA9BO,CAjBI;;EAiDbC,WAAU,GAAK;IACb,KAAKhB,OAAL,GAAeP,SAAS,GAAGwB,OAAZ,CAAoBC,MAAnC;IACAC,OAAO,CAACC,GAAR,CAAY,KAAKpB,OAAjB;EACF;;AApDa,CAAf","names":["useRouter","data","auator","require","logo","isCollapse","asideWidth","routers","computed","username","localStorage","getItem","methods","onCollapse","navigateToRoute","routePath","$router","push","navigateToRouteChild","logout","removeItem","changepwd","alert","beforeMount","options","routes","console","log"],"sourceRoot":"","sources":["/Users/allen/kubemanage-web/src/layout/Layout.vue"],"sourcesContent":["<template>\n  <div class=\"common-layout\">\n    <el-container style=\"height: 100vh\">\n      <el-aside class=\"aside\" :width=\"asideWidth\">\n        <el-affix class=\"aside-affix\" :z-index=\"1200\">\n          <div class=\"aside-logo\">\n            <el-image class=\"logo-image\" :src=\"logo\" />\n            <span :class=\"[isCollapse ? 'is-collapse' : '']\">\n              <span class=\"logo-name\">Kubernetes</span>\n            </span>\n          </div>\n        </el-affix>\n        <!--        使用vue-router模式，index就是path-->\n        <el-menu class=\"aside-menu\" router :default-active=\"$route.path\" :collapse=\"isCollapse\" background-color=\"#121b27\"\n          text-color=\"#bfcdb9\" active-text-color=\"#20a0ff\">\n          <div v-for=\"menu in routers\" :key=\"menu\">\n            <el-menu-item class=\"aside-menu-item\" v-if=\"menu.children && menu.children.length === 1\"\n              :index=\"menu.children[0].path\" @click=\"navigateToRoute(menu.path)\">\n              <el-icon>\n                <component :is=\"menu.children[0].icon\" />\n              </el-icon>\n              <template #title>{{ menu.children[0].name }}</template>\n            </el-menu-item>\n            <el-sub-menu class=\"aside-submenu\" v-else-if=\"menu.children && menu.children.length > 1\" :index=\"menu.path\">\n              <template #title>\n                <el-icon>\n                  <component :is=\"menu.icon\" />\n                </el-icon>\n                <span :class=\"[isCollapse ? 'is-collapse' : '']\">{{ menu.name }}</span>\n              </template>\n              <!--              子菜单-->\n              <el-menu-item class=\"aside-menu-childitem\" v-for=\"child in menu.children\" :key=\"child\" :index=\"child.path\"\n                @click=\"navigateToRouteChild(child.path)\">\n                <template #title>{{ child.name }}</template>\n              </el-menu-item>\n            </el-sub-menu>\n          </div>\n        </el-menu>\n      </el-aside>\n      <el-container>\n        <el-header class=\"header\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"1\">\n              <div class=\"header-collapse\" @click=\"onCollapse\">\n                <el-icon>\n                  <component :is=\"isCollapse ? 'expand':'fold' \" />\n                </el-icon>\n              </div>\n            </el-col>\n            <el-col :span=\"10\">\n              <div class=\"header-breadcrumb\">\n                <el-breadcrumb separator=\"/\">\n                  <el-breadcrumb-item :to=\"{ path: '/' }\">工作台</el-breadcrumb-item>\n                  <template v-for=\"(matched, m) in this.$route.matched\" :key=\"m\">\n                    <el-breadcrumb-item v-if=\"matched.name !== undefined\">\n                      {{ matched.name }}\n                    </el-breadcrumb-item>\n                  </template>\n                </el-breadcrumb>\n              </div>\n            </el-col>\n            <el-col class=\"header-menu\" :span=\"13\">\n              <el-dropdown>\n                <div class=\"header-dropdown\">\n                  <el-image class=\"avator-image\" :src=\"auator\" />\n                  <span>{{ username }}</span>\n                </div>\n                <!--                下拉内容-->\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item @click=\"logout\">退出</el-dropdown-item>\n                    <el-dropdown-item @click=\"changepwd\">修改密码</el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n            </el-col>\n          </el-row>\n        </el-header>\n        <el-main class=\"main\">\n          <KeepAlive :include=\"['HomeView']\">\n            <router-view v-slot=\"{ HomeView }\">\n              <keep-alive>\n                <component :is=\"HomeView\" />\n              </keep-alive>\n            </router-view>\n          </KeepAlive>\n        </el-main>\n        <el-footer class=\"footer\">\n          <el-icon style=\"width: 2em;top: 3px;font-size: 18px\">\n            <place />\n          </el-icon>\n          <a class=\"footer el-icon-place\">devops platform</a>\n        </el-footer>\n        <el-backtop target=\".el-main\"></el-backtop>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\n\nimport { useRouter } from 'vue-router'\nexport default {\n  data () {\n    return {\n      auator: require('@/assets/avator/avator.png'),\n      logo: require('@/assets/k8s/logo.png'),\n      isCollapse: false,\n      // 导航栏宽度\n      asideWidth: '220px',\n      routers: [],\n    }\n  },\n  computed: {\n    username () {\n      let username = localStorage.getItem(\"username\");\n      return username ? username : 'unknown'\n    }\n  },\n  methods: {\n    onCollapse () {\n      if (this.isCollapse) {\n        this.asideWidth = '220px'\n        this.isCollapse = false\n      } else {\n        this.asideWidth = '64px'\n        this.isCollapse = true\n\n      }\n    },\n    navigateToRoute (routePath) {\n      // 使用 this.$router.push() 导航到传递的路由路径\n      // if (routePath == '/home') {\n      //   window.location.reload();\n      //   this.$router.push('/home')\n      // }\n      this.$router.push(routePath)\n    },\n    navigateToRouteChild (routePath) {\n      // 使用 this.$router.push() 导航到传递的路由路径\n      this.$router.push(routePath)\n    },\n    logout () {\n      localStorage.removeItem(\"username\")\n      localStorage.removeItem(\"token\")\n      this.$router.push('/login')\n    },\n    changepwd () {\n      alert('changepwd')\n    }\n  },\n  beforeMount () {\n    this.routers = useRouter().options.routes\n    console.log(this.routers)\n  }\n}\n</script>\n\n<style scoped>\n.aside {\n  transition: all;\n  background-color: #131b27;\n}\n\n.aside-logo {\n  background-color: #131b27;\n  height: 60px;\n  color: white;\n}\n\n.logo-image {\n  width: 40px;\n  height: 40px;\n  top: 12px;\n}\n\n.logo-name {\n  font-size: 20px;\n  font-weight: bold;\n  padding: 10px;\n}\n\n/*滚动条不展示*/\n.aside::-webkit-scrollbar {\n  display: none;\n}\n\n/*底边框与有边框都是0*/\n.aside-affix {\n  border-bottom-width: 0;\n}\n\n.aside-menu {\n  border-right-width: 0;\n}\n\n.aside-menu-item.is-active {\n  background-color: #1f2a3a;\n}\n\n.aside-menu-item {\n  padding-left: 20px !important;\n}\n\n.aside-menu-item:hover {\n  background-color: #142c4e;\n}\n\n.aside-menu-childitem {\n  padding-left: 40px !important;\n}\n\n.aside-menu-childitem.is-active {\n  background-color: #1f2a3a;\n}\n\n.aside-menu-childitem:hover {\n  background-color: #142c4e;\n}\n\n.header {\n  z-index: 1200;\n  line-height: 60px;\n  font-size: 24px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);\n}\n\n.header-collapse {\n  cursor: pointer;\n}\n\n/*面包屑*/\n.header-breadcrumb {\n  padding-top: 0.9em;\n}\n\n/*用户信息靠右*/\n.header-menu {\n  text-align: right;\n}\n\n/*折叠属性*/\n.is-collapse {\n  display: none;\n}\n\n/*用户信息下拉框*/\n.header-dropdown {\n  line-height: 60px;\n  cursor: pointer;\n}\n\n/*头像*/\n.avator-image {\n  top: 12px;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 8px;\n}\n\n.main {\n  padding: 10px\n}\n\n.footer {\n  z-index: 1200;\n  color: rgb(187, 184, 184);\n  font-size: 14px;\n  text-align: center;\n  line-height: 60px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}